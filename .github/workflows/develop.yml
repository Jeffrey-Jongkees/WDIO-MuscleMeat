name: Web Driver IO 

on:
 push:
  branches:
  - Develop

jobs:
 
 Login-Muscle-Meat:
   runs-on: ubuntu-latest
   environment: testing

   steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: 18

    - name: Install dependencies
      run: npm install

    - name: Set Execute Permission for wdio Binary
      run: chmod +x ./node_modules/.bin/wdio
    
    - name: Run musclemeat login test!
      run: npm run musclemeat
  
    # - name: Upload video
    #   uses: actions/upload-artifact@v3
    #   with:
    #     name: Musclemeat login result Chrome
    #     path: /home/runner/work/MuscleMeat/MuscleMeat/cypress/videos/loginProcedureMuscleMeat.cy.mp4 

